# ============================================================================
# PYTHON 3.12.3 SPECIFIC SETTINGS
# ============================================================================

PYTHONPATH=/var/www/naboomcommunity
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1
PYTHONHASHSEED=random

# Python 3.12.3 performance optimizations
PYTHONOPTIMIZE=1
PYTHONMALLOCSTATS=0

# ============================================================================
# DJANGO 5.2 CORE SETTINGS
# ============================================================================

DJANGO_VERSION=5.2
SECRET_KEY='xmv0+9z@qo479r-w9ms$ggzt=d0ub&vysj30yd_s9lx@y6ely1'
DEBUG=False
ALLOWED_HOSTS=naboomneighbornet.net.za,localhost,127.0.0.1
DJANGO_SETTINGS_MODULE=naboomcommunity.settings.production

# Django 5.2 async support
DJANGO_ASYNC_ENABLE=True
ASYNC_WORKERS=4

# Django 5.2 security improvements
SECURE_REFERRER_POLICY=strict-origin-when-cross-origin
SECURE_CROSS_ORIGIN_OPENER_POLICY=same-origin

# ============================================================================
# WAGTAIL 7.1 SPECIFIC SETTINGS
# ============================================================================

WAGTAIL_VERSION=7.1
WAGTAIL_SITE_NAME=Naboom Community
WAGTAIL_ENABLE_ADMIN_DASHBOARD=True
WAGTAIL_ENABLE_LIVE_PREVIEW=True

# Wagtail 7.1 performance settings
WAGTAIL_CACHE_TTL=3600
WAGTAIL_ENABLE_SEARCH_PROMOTIONS=True

# ============================================================================
# POSTGRESQL 16.10 DATABASE CONFIGURATION
# ============================================================================

POSTGRES_VERSION=16
POSTGRES_DB=naboomneighbornetdb
POSTGRES_USER=naboomneighbornetdb_user
POSTGRES_PASSWORD='hpG8R0bIQpS@&5yO'
POSTGRES_HOST=127.0.0.1
POSTGRES_PORT=5432

# PostgreSQL 16 specific features
DATABASE_CONN_MAX_AGE=300
DATABASE_ATOMIC_REQUESTS=False
DATABASE_AUTOCOMMIT=True
DATABASE_ENGINE=django.contrib.gis.db.backends.postgis

# PostgreSQL 16 performance settings
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_RECYCLE=3600

# ============================================================================
# REDIS 8.2.2 CONFIGURATION
# ============================================================================

REDIS_VERSION=8.2.2
REDIS_URL=redis://127.0.0.1:6379
REDIS_PASSWORD='I!RoJzrtIE*37uHWxw8f44q9wU^@M&KC'

# Redis 8.2.2 database allocation
CACHE_REDIS_DB=0          # Django cache
CHANNELS_REDIS_DB=1       # WebSocket pub/sub
CELERY_REDIS_DB=2         # Celery broker & results
SESSION_REDIS_DB=3        # Django sessions (new in setup)

# Redis 8.2.2 performance settings
REDIS_CONNECTION_POOL_SIZE=50
REDIS_SOCKET_KEEPALIVE=True
REDIS_SOCKET_KEEPALIVE_OPTIONS={}

# ============================================================================
# CELERY 5.5.3 CONFIGURATION
# ============================================================================

CELERY_VERSION=5.5.3
CELERY_BROKER_URL=redis://:your-strong-redis-password@127.0.0.1:6379/2
CELERY_RESULT_BACKEND=redis://:your-strong-redis-password@127.0.0.1:6379/2

# Celery 5.5.3 new features
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=Africa/Johannesburg
CELERY_ENABLE_UTC=True

# Celery 5.5.3 performance improvements
CELERY_WORKER_PREFETCH_MULTIPLIER=4
CELERY_TASK_ACKS_LATE=True
CELERY_TASK_REJECT_ON_WORKER_LOST=True
CELERY_WORKER_DISABLE_RATE_LIMITS=True

# Celery 5.5.3 monitoring
CELERY_SEND_TASK_EVENTS=True
CELERY_TASK_SEND_SENT_EVENT=True
CELERY_RESULT_EXPIRES=3600

# ============================================================================
# NGINX 1.24.0 + HTTP/3 SETTINGS
# ============================================================================

NGINX_VERSION=1.24.0
NGINX_ENABLE_HTTP3=True
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=4096

# ============================================================================
# NODE.JS 22.20.0 BUILD SETTINGS
# ============================================================================

NODE_VERSION=22.20.0
NODE_ENV=production
NODE_OPTIONS=--max-old-space-size=4096

# Vue.js build settings
VUE_CLI_VERSION=5
VITE_VERSION=5
BUILD_TOOL=vite

# ============================================================================
# MOSQUITTO 2.0.22 MQTT SETTINGS
# ============================================================================

MOSQUITTO_VERSION=2.0.22
MQTT_HOST=127.0.0.1
MQTT_PORT=1883
MQTT_WS_PORT=8083
MQTT_USER=app_subscriber
MQTT_PASSWORD=your-mqtt-password-here

# Mosquitto 2.0.22 security features
MQTT_REQUIRE_CERTIFICATE=False
MQTT_CAFILE=/etc/mosquitto/ca_certificates/ca.crt
MQTT_CERTFILE=/etc/mosquitto/certs/server.crt
MQTT_KEYFILE=/etc/mosquitto/certs/server.key

# ============================================================================
# SECURITY SETTINGS (Updated for Latest Versions)
# ============================================================================

# Django 5.2 security enhancements
SECURE_SSL_REDIRECT=True
SECURE_HSTS_SECONDS=63072000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_BROWSER_XSS_FILTER=True
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
X_FRAME_OPTIONS=DENY

# Django 5.2 new security features
SECURE_REFERRER_POLICY=strict-origin-when-cross-origin
SECURE_CROSS_ORIGIN_OPENER_POLICY=same-origin-allow-popups

# ============================================================================
# LOGGING CONFIGURATION (Enhanced)
# ============================================================================

LOG_LEVEL=INFO
LOG_DIR=/var/log/naboom/
DJANGO_LOG_LEVEL=INFO

# Structured logging for better monitoring
ENABLE_STRUCTURED_LOGGING=True
LOG_FORMAT=json
LOG_INCLUDE_TRACE_ID=True

# ============================================================================
# MONITORING & OBSERVABILITY (New Section)
# ============================================================================

# Application monitoring
ENABLE_APM=True
APM_SERVICE_NAME=naboomcommunity
APM_ENVIRONMENT=production

# Health check settings
HEALTH_CHECK_ENABLED=True
HEALTH_CHECK_DATABASE=True
HEALTH_CHECK_CACHE=True
HEALTH_CHECK_CELERY=True